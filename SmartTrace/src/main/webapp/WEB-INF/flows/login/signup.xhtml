<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

<h:head>
	<title><h:outputText value="#{msg['app.signup']}" /></title>
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"/>
</h:head>
<h:body>
	<f:facet name="last">
		<h:outputStylesheet library="css" name="estilos.css"/>
		<h:outputStylesheet library="css" name="icons.css"/>
		<h:outputStylesheet  library="css" name="animate.css"/>	
		<h:outputStylesheet  library="css" name="divStyles.css"/>	
		<h:outputStylesheet library="css" name="font-awesome.css"/>
		<h:outputScript library="primefaces" name="jquery/jquery.js" />
	</f:facet>
	
	<h:panelGroup id="bodyPanel" layout="block">
		<div class="ui-grid ui-grid-responsive animated bounceInDown">
			<div class="ui-grid-row">
				<div class="ui-grid-col-12">
					<div class="animated bounceInDown">
						<div class = "afterSignup">
							<h:form id = "signupform">
								<div class="ui-grid-row">
									<div class="ui-grid-col-12">
										<p:graphicImage library="images" name="PRODE.png" height="80" width="250"/>
									</div>
								</div>
								<div class="ui-grid-row signup-center">
									<div class="ui-grid-col-8">
										<p:inputText id = "name" value="#{dataView.name}"  styleClass = "#{styleElement}" 
													requiredMessage="#{msg['signup.nameEmptyMessage']}" 
													validatorMessage="#{msg['signup.nameInvalidMessage']}" required="true"/>
										<p:watermark for="name" value="#{msg['app.login.name']}"/>	
									</div>
									<div class="ui-grid-col-4">
										<div class="signup-messageError">
											<p:message for ="name" display="icon"/>
										</div>
									</div>
								</div>
								<div class="ui-grid-row signup-center">
									<div class="ui-grid-col-8">
										<p:inputText id = "surname" value="#{dataView.surname}"  styleClass = "#{styleElement}"
											requiredMessage="#{msg['signup.surnameEmptyMessage']}" validatorMessage="#{msg['signup.surnameInvalidMessage']}" required="true"/>
										<p:watermark for="surname" value="#{msg['app.login.surname']}"/>
									</div>
									<div class="ui-grid-col-4">
										<div class="signup-messageError">
											<p:message for ="surname" display="icon"/>
										</div>
									</div>
								</div>
								<div class="ui-grid-row signup-center">
									<div class="ui-grid-col-8">
										<p:inputText id = "nick" value="#{dataView.nick}"  styleClass = "#{styleElement}"
											requiredMessage="#{msg['signup.nickEmptyMessage']}" required="true"/>
										<p:watermark for="nick" value="#{msg['app.login.nick']}"/>
									</div>
									<div class="ui-grid-col-4">
										<div class="signup-messageError">
											<p:message for ="nick" display="icon"/>
										</div>
									</div>
								</div>
								<div class="ui-grid-row signup-center">
									<div class="ui-grid-col-8">
										<p:password id = "password" value="#{dataView.password}" styleClass = "#{styleElement}"
											requiredMessage="#{msg['signup.passwordEmptyMessage']}" required="true"/>
										<p:watermark for="password" value="#{msg['app.login.password']}"/>
									</div>
									<div class="ui-grid-col-4">
										<div class="signup-messageError">
											<p:message for = "password" display="icon"/>
										</div>
									</div>
								</div>
								<div class="ui-grid-row signup-center">
									<div class="ui-grid-col-8">
										<p:password id = "reenteredPassword" value="#{dataView.reenteredPassword}" styleClass = "#{styleElement}" 
											requiredMessage="#{msg['signup.passwordEmptyMessage']}" required="true"/>	
										<p:watermark for="reenteredPassword" value="#{msg['app.signup.reenteredPassword']}"/>	
									</div>
									<div class="ui-grid-col-4">
										<div class="signup-messageError">
											<p:message for = "reenteredPassword" display="icon"/>
										</div>
									</div>
								</div>
								<div class="ui-grid-row signup-center">
									<div class="ui-grid-col-8">
										<p:inputText id = "email" value="#{dataView.email}" styleClass = "#{styleElement}"
											requiredMessage="#{msg['signup.emailEmptyMessage']}" validatorMessage="#{msg['signup.emailInvalidMessage']}">
												<f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
			 							</p:inputText>		
			 							<p:watermark for="email" value="#{msg['app.signup.email']}"/>
									</div>
									<div class="ui-grid-col-4">
										<div class="signup-messageError">
											<p:message for = "email" display="icon"/>
										</div>
									</div>
								</div>
								<div class="ui-grid-row signup-center">
									<div class="ui-grid-col-12 text-bold-efect">
										<p:outputLabel value="#{msg['app.invitedBy']}"/>
									</div>
								</div>
								<div class="ui-grid-row signup-center">
									<div class="ui-grid-col-8 select-signup-friend-position">
										<p:selectOneMenu id="friend" value="#{dataView.friend}" var="friend" filter="false" converter="#{playerConverter}" required="true"
												requiredMessage="#{msg['signup.friendEmptyMessage']}">
											<f:selectItems value="#{controller.friends}" var="friend" itemLabel="#{friend.appPlayerName}" 
								            		itemValue="#{friend}"  />
								 			<p:column>
								    			<h:outputText value="#{friend.appPlayerName}" />
								    		</p:column>
										</p:selectOneMenu>
			 						</div>
			 						<div class="ui-grid-col-4">
			 							<div class="signup-messageError">
			 								<p:message for = "friend" display="icon"/>
			 							</div>
			 						</div>
			 					</div>
			 					<div class="ui-grid-row signup-center">
									<div class="ui-grid-col-12">
										<div class="signup-buton-register">									
											<p:commandButton id="signup" action="signup" value="#{msg['app.signup']}"
														icon="ui-icon fa fa-sign-in" update="@form" styleClass="animated infinite pulse textShadow"
														onstart="PF('blockUI').block()" oncomplete="PF('blockUI').unblock()"/>
										</div>
									</div>
								</div>
							</h:form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</h:panelGroup>
	<pe:blockUI target="bodyPanel" widgetVar="blockUI"   >  
	    <h:panelGrid columns="2">  
			<h:graphicImage library="images" name="loading.gif"  style="margin-right: 12px; vertical-align: middle;" styleClass="animated infinite flash"/>  
	    	<h:outputText value="#{msg['app.load']}" style="white-space: nowrap;" styleClass="animated infinite flash"/>  
		</h:panelGrid>  
	</pe:blockUI>
</h:body>

</html>